--SELECCIONAR LOS DATOS DE LAS CUENTAS 
SELECT (c.NOMBRE || ' ' || c.APELLIDO) AS CLIENTE,cnt.CUENTA, cnt.SALDO
FROM CUENTAS cnt, CLIENTES c
WHERE cnt.ID_CLIENTE = c.ID_CLIENTE AND
      cnt.CUENTA IN ('2530 10 2000 1234567890',
		    '2574 10 2000 2211100112');
		    
	BEGIN;	--INICIO DE LA TRANSACCION
	
	   UPDATE CUENTAS
	   SET SALDO = SALDO - 100
	   WHERE CUENTA = '2530 10 2000 1234567890';		--SE ACTUALIZA EL SALDO DE LA CUENTA ORIGEN

	   UPDATE CUENTAS
	   SET SALDO = SALDO + 100
	   WHERE CUENTA = '2574 10 2000 2211100112';		--SE ACTUALIZA EL SALDO DE LA CUENTA DESTINO

	   INSERT INTO TRANSACCIONES(CUENTA_ORIGEN, CUENTA_DESTINO,IMPORTE, FECHA_MOVIMIENTO)	--REGISTRO DE DEBITO
	   VALUES('2530 10 2000 1234567890', '2574 10 2000 2211100112', -100, now());

	   INSERT INTO TRANSACCIONES(CUENTA_ORIGEN, CUENTA_DESTINO,IMPORTE, FECHA_MOVIMIENTO)	--REGISTRO DE CREDITO
	   VALUES('2574 10 2000 2211100112','2530 10 2000 1234567890', 100, now());
		
	COMMIT;	--FIN DE LA TRANSACCION

